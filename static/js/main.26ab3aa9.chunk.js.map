{"version":3,"sources":["Components/ChatRoomComp/ChatRoomComp.module.css","Components/MessageComp/MessageComp.module.css","Components/CreateChatRoom/CreateChatRoom.module.css","Components/JoinChatRoom/JoinChatRoom.module.css","Components/SignIn/SignIn.module.css","Components/PostMessage/PostMessage.module.css","Components/ChatRoomList/ChatRoomist.module.css","firebase.js","Components/SignIn/SignIn.js","Components/ChatRoomComp/ChatRoomComp.jsx","Components/ChatRoomList/ChatRoomist.jsx","Components/CreateChatRoom/CreateChatRoom.js","Components/JoinChatRoom/JoinChatRoom.js","Components/MessageComp/MessageComp.js","Components/PostMessage/PostMessage.js","Containers/MainScreen/MainScreen.js","App.js","index.js","Containers/MainScreen/MainScreen.module.css"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","provider","GoogleAuthProvider","db","firestore","signIn","a","signInWithPopup","signOut","SignIn","className","styles","wallpaper","btn","onClick","ChatRoomComp","name","setRoom","currentRoom","link","useState","active","setActive","modal","setModal","closeModal","useEffect","roomRef","collection","doc","orderBy","limitToLast","useCollectionData","idField","lastMsg","container","title","last","content","copyBtn","text","input","document","body","appendChild","createElement","value","focus","select","execCommand","parentNode","removeChild","copyToClipboard","toggleModal","style","top","left","right","bottom","marginRight","transform","isOpen","onRequestClose","contentLabel","ariaHideApp","overflowToggle","ChatRoomist","uid","chatRooms","setChatRooms","chatRoomField","chatRoomRef","onSnapshot","get","data","chatrooms","final","map","id","i","dataObj","push","length","fetchData","main","room","key","CreateChatRoom","setName","handleCreateChatRoom","random","uuid","set","users","createdAt","Timestamp","now","userRef","merge","placeholder","inp","onChange","e","target","JoinChatRoom","user","setInp","checkChatroomExist","chatRoom","exists","checkChatroomDouble","console","log","includes","handleJoin","cont","MessageComp","photoURL","message","sent","recieved","image","src","alt","msg","PostMessage","chatRoomId","setMsg","handlePostMessage","add","sentAt","displayName","MainScreen","msgs","setMsgs","setCRID","messagesRef","querySnapshot","forEach","def","nav","height","logo","navleft","grid","chatPannel","messages","addMessages","App","useAuthState","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.26ab3aa9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ChatRoomComp_container__3JeXS\",\"title\":\"ChatRoomComp_title__BjmgH\",\"active\":\"ChatRoomComp_active__2V0Lb\",\"copyBtn\":\"ChatRoomComp_copyBtn__3j_06\",\"overflowToggle\":\"ChatRoomComp_overflowToggle__79fQA\",\"toggleModal\":\"ChatRoomComp_toggleModal__1oegC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"MessageComp_message__1RUZF\",\"sent\":\"MessageComp_sent__1IVvY\",\"recieved\":\"MessageComp_recieved__2TT3b\",\"image\":\"MessageComp_image__1ZbkY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CreateChatRoom_container__23Rsp\",\"btn\":\"CreateChatRoom_btn__2OAw9\",\"inp\":\"CreateChatRoom_inp__9rMyD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cont\":\"JoinChatRoom_cont__1KNVa\",\"inp\":\"JoinChatRoom_inp__2ealv\",\"btn\":\"JoinChatRoom_btn__2b6fP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wallpaper\":\"SignIn_wallpaper__3bwEG\",\"btn\":\"SignIn_btn__yTDox\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inp\":\"PostMessage_inp__1VVKu\",\"btn\":\"PostMessage_btn__1GouT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"ChatRoomist_main__3Cg63\"};","import firebase from 'firebase/app'\nimport 'firebase/auth'\nimport 'firebase/firestore'\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBbFAX2ZIxMT8BB15mFNgAHP5EuDk6s488\",\n  authDomain: \"chatapp-b27e7.firebaseapp.com\",\n  databaseURL: \"https://chatapp-b27e7.firebaseio.com\",\n  projectId: \"chatapp-b27e7\",\n  storageBucket: \"chatapp-b27e7.appspot.com\",\n  messagingSenderId: \"685993746464\",\n  appId: \"1:685993746464:web:54f8cab6c00f8d1682dc45\"\n};\n\nfirebase.initializeApp(firebaseConfig)\n\nconst auth = firebase.auth();\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nconst db = firebase.firestore();\n\nconst signIn = async () => {\n  const data = await auth.signInWithPopup(provider)\n}\n\nconst signOut =  () => auth.signOut()\n\nexport { auth, signIn , signOut , db }","import React from 'react'\nimport { signIn } from '../../firebase'\n\nimport styles from './SignIn.module.css'\n\nexport default function SignIn() {\n  return (\n    <div className={styles.wallpaper}>\n      <button className={styles.btn} onClick={signIn}>Sign in</button>\n    </div>\n  )\n}\n","import React, {useState , useEffect} from 'react'\nimport Modal from 'react-modal'\nimport { db } from '../../firebase'\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport styles from './ChatRoomComp.module.css'\n\nexport default function ChatRoomComp({name, setRoom , currentRoom, link}) { \n  const [active , setActive] = useState(false)\n  const [modal , setModal] = useState(false)\n\n  const openModal = () => setModal(true)\n  const closeModal = () => setModal(false)\n\n  const copyToClipboard = text => {\n    var input = document.body.appendChild(document.createElement(\"input\"));\n    input.value = text;\n    input.focus();\n    input.select();\n    document.execCommand('copy');\n    input.parentNode.removeChild(input);\n  }\n  \n  const handleClick = () => currentRoom !== link ? setRoom(link) : ''\n\n  useEffect( () => {\n    if (currentRoom === link) setActive(true)\n    else setActive(false)\n  }, [currentRoom])\n\n  const roomRef = db.collection('chat-rooms').doc(link).collection('messages').orderBy('sentAt').limitToLast(1)\n  const [lastMsg] = useCollectionData(roomRef, {idField: 'sentAt'})\n\n  const customStyles = {\n    content : {\n      top                   : '50%',\n      left                  : '50%',\n      right                 : '50%',\n      bottom                : '25vh',\n      marginRight           : '-50%',\n      transform             : 'translate(-50%, -50%)'\n    }\n  };\n\n  return (\n    <div onClick={handleClick} className={`${styles.container} ${active ? styles.active : ''}`}>\n      <h1 className={styles.title}>{name ? name : 'loading'}</h1>\n      <p className={styles.last}>\n        {\n          typeof lastMsg != 'undefined' && !lastMsg? `${lastMsg[0].name}: ${lastMsg[0].content}` : 'Last message lol'\n        }\n      </p>\n      {\n        active && (\n          <>\n            <div className={styles.copyBtn} onClick={() => copyToClipboard(link)}>Copy RoomID</div>\n            <div className={styles.toggleModal} onClick={openModal}>Show Members</div>\n            <Modal\n              style={customStyles}\n              isOpen={modal}\n              onRequestClose={closeModal}\n              contentLabel=\"Users:\"\n              ariaHideApp={false}\n            >\n              <div className={styles.overflowToggle}>\n                <h1>Members of this chatroom are:</h1>\n\n                { \n                //TODO:  add actual memberss, should be easy but im too lazy \n                }\n\n                <button onClick={closeModal}>Close Modal</button>\n              </div>\n            </Modal>\n          </>\n        )\n      }\n    </div>\n  )\n}\n","import React, { useState , useEffect } from 'react'\nimport ChatRoomComp from '../ChatRoomComp/ChatRoomComp'\nimport { db } from '../../firebase'\n\nimport styles from './ChatRoomist.module.css'\n\nexport default function ChatRoomist({uid, setRoom, currentRoom}) {\n  const [chatRooms , setChatRooms] = useState([])\n\n  useEffect(() => {\n    const chatRoomField = db.collection('users').doc(uid)\n    const chatRoomRef = db.collection('chat-rooms')\n    // MUST SORT BY TIME CREATED\n    const fetchData = async () => {\n      db.collection('users').doc(uid).onSnapshot( async () => {\n        if (typeof await (await chatRoomField.get()).data() != 'undefined' ) {\n          var data = await (await chatRoomField.get()).data().chatrooms\n          let final = [];\n          data.map( async (id, i) => {\n            const dataObj = await (await chatRoomRef.doc(id).get()).data()\n            dataObj ? final.push(dataObj) : final = final\n            if ( i === data.length - 1 ) setChatRooms(final)\n          })\n        }\n      })\n    }\n    fetchData()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <div className={styles.main}>\n      {\n        chatRooms.map( (room,i) => (\n          <ChatRoomComp\n          link={room.id}\n          name={room.name}\n          setRoom={setRoom}\n          currentRoom={currentRoom}\n          key={i}\n          />\n        ))\n      }\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport firebase from 'firebase'\nimport { uuid } from '@jsweb/randkey'\nimport { db } from '../../firebase'\nimport styles from './CreateChatRoom.module.css'\n\nexport default function CreateChatRoom({uid}) {\n  const [name , setName] = useState('')\n\n  const copyToClipboard = text => {\n    var input = document.body.appendChild(document.createElement(\"input\"));\n    input.value = text;\n    input.focus();\n    input.select();\n    document.execCommand('copy');\n    input.parentNode.removeChild(input);\n  }\n\n  const handleCreateChatRoom = async () => {\n    const chatRooms = db.collection('chat-rooms')\n    const random = uuid()\n    await chatRooms.doc(random).set({\n      users: [uid],\n      createdAt: firebase.firestore.Timestamp.now(),\n      id: random,\n      name: name,\n    })\n\n    setName('')\n    copyToClipboard(random)\n\n    const userRef = db.collection('users').doc(uid)\n    const chatrooms = (await userRef.get()).data().chatrooms\n    chatrooms.push(random)\n\n    userRef.set({\n      chatrooms: chatrooms\n    }, {merge: true})\n  }\n\n  return (\n    <div className={styles.container}>\n      <input placeholder=\"Enter chatroom name: \" className={styles.inp} value={name} onChange={(e) => setName(e.target.value)} />\n      <button className={styles.btn} onClick={handleCreateChatRoom}>Create Room</button>\n    </div>\n  )\n}\n","import React, {useState} from 'react'\nimport { db } from '../../firebase'\nimport styles from './JoinChatRoom.module.css'\n\nexport default function JoinChatRoom({user}) {\n  const [inp, setInp] = useState(\"\")\n\n  const checkChatroomExist = async () => {\n    const chatRoom = db.collection('chat-rooms').doc(inp)\n    return (await chatRoom.get()).exists\n  }\n\n  const checkChatroomDouble = async () => {\n    const userRef = db.collection('users').doc(user.uid)\n    const chatrooms = (await userRef.get()).data().chatrooms\n    console.log(chatrooms.includes(inp))\n    return !chatrooms.includes(inp)\n  }\n\n  const handleJoin = async () => {\n\n    if( await checkChatroomExist() && await checkChatroomDouble()) {\n      const userRef = db.collection('users').doc(user.uid)\n      const chatrooms = (await userRef.get()).data().chatrooms\n      chatrooms.push(inp)\n\n      userRef.set({\n        chatrooms: chatrooms\n      }, {merge: true})\n\n\n      const chatRoom = await db.collection('chat-rooms').doc(inp)\n      const users = await (await chatRoom.get()).data().users\n      users.push(user.uid)\n      chatRoom.set({\n        users: users\n      }, {merge: true})\n    }\n\n    setInp('')\n  }\n\n  return (\n    <div className={styles.cont}>\n      <input className={styles.inp} placeholder=\"Enter a chatroom\" value={inp} onChange={(e) => setInp(e.target.value)} />\n      <button className={styles.btn} onClick={handleJoin}>Join</button>\n    </div>\n  )\n}\n","import React from 'react'\nimport styles from './MessageComp.module.css'\n\nexport default function MessageComp({user , name , content, photoURL, uid}) {\n  return (\n    <div className={`${styles.message} ${user.uid === uid ? styles.sent : styles.recieved}`}>\n      <img className={styles.image} src={photoURL} alt=\"img\" />\n      <div className={styles.container}>\n        <h1 className={styles.name}>{name ? name : ''}</h1>\n        <p className={styles.msg}>{content ? content : ''}</p>\n      </div>\n    </div>\n  )\n}\n","import React, {useState} from 'react'\nimport firebase from 'firebase'\nimport { db } from '../../firebase'\nimport styles from './PostMessage.module.css'\n\nexport default function PostMessage({ chatRoomId, user }) {\n  const [msg , setMsg] = useState('')\n\n  const handlePostMessage = async () => {\n    const chatRoom = db.collection('chat-rooms').doc(chatRoomId)\n    const messagesRef = chatRoom.collection('messages')\n\n    messagesRef.add({\n      room: chatRoomId,\n      content: msg,\n      sentAt: firebase.firestore.Timestamp.now(),\n      name: user.displayName,\n      photoURL: user.photoURL,\n      uid: user.uid\n    })\n    \n    setMsg('')\n  }\n\n  return (\n    <>\n      <input className={styles.inp} value={msg} onChange={(e) => setMsg(e.target.value)} />\n      <button className={styles.btn} onClick={handlePostMessage}>Post message</button>\n    </>\n  )\n}\n","import React, {useState, useEffect} from 'react'\nimport ChatRoomist from '../../Components/ChatRoomList/ChatRoomist'\nimport CreateChatRoom from '../../Components/CreateChatRoom/CreateChatRoom'\nimport JoinChatRoom from '../../Components/JoinChatRoom/JoinChatRoom'\nimport MessageComp from '../../Components/MessageComp/MessageComp'\nimport PostMessage from '../../Components/PostMessage/PostMessage'\nimport { signOut , db} from '../../firebase'\nimport styles from './MainScreen.module.css'\n\nexport default function MainScreen({user}) {\n  const [msgs , setMsgs] = useState([])\n  const [chatRoomId , setCRID] = useState(' ')\n\n  const fetchData = async () => {\n    let chatRoom = db.collection('chat-rooms').doc(chatRoomId)\n    const messagesRef = chatRoom.collection('messages').orderBy('sentAt')\n    await messagesRef.onSnapshot( querySnapshot => {\n      let data = []\n      querySnapshot.forEach( doc => {\n        data.push(doc.data())\n      });\n      setMsgs(data)\n    })\n  }\n\n  const def = async () => {\n    const users = db.collection('users')\n\n    const userRef = users.doc(user.uid)\n  \n    if ( typeof (await userRef.get()).get('chatrooms') == 'undefined') {\n      users.doc( user.uid ).set({\n        chatrooms : []\n      })\n    }\n  }\n\n  useEffect( () => {\n    fetchData()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [chatRoomId])\n\n  useEffect( () => {\n    def()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <div className={styles.main}>\n      <nav className={styles.nav}>\n        <img height=\"45\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAMFBMVEXw8PB80rH28vN00K3b6uSU173W6eGZ2b9x0KyO1rrf6+br7+1rz6mq3cim3MaG1LbQDu6uAAAB0ElEQVR4nO3cUVLCQBBFUSQJJgFx/7t1Cz1Vr3HQcxbwhkv5iX25AAAAAH/Ufc25Vx48c++dpcL1saQ8boX3rtueem8/rqXC5SNlKRV+xt772BQqHKVQ4TCFCocpVDhMocJhChUOU6hwmEKFwxQqHKZQ4TCFCocpVDhMocJhCn+rcI89uNcKY1/pUis8jy3lWCuFX7H3tmep8HLNefV7tQcBAAAAAAAA4K+pnXoIXo0oTQXVTj0Er0aUppJqP/MJ/mKoNJWkUGHPVJJChT1TSQoV9kwlKVTYM5WkUGHPVJJChT1TSQoV9kwlKVTYM5WkUGHPVJJChT1TSQoV9kwlvXdh6V/7S6ceglcj9jV3ceDcPgu+X3w14jgqn+ord/lj2XJfaWnpLH6qUmHp1EhtKyf5qRQq7KFQYddWjkKFXVs5ChV2beUoVNi1laNQYddWjkKFXVs5ChV2beUoVNi1laNQYddWjkKFXVs5CocKH4UTB/tR2bqX7kGcL/5Ul/utovIri+iXlftUSXP+wScpVDg/hQrnp1Dh/BQqnJ9ChfNTqHB+ChXOT6HC+SlUOD+FCuenUOH8/kFh8EzAnM6jchDi+caFtYMQ7xwIAAAAs/gBbZtS+iVJBOEAAAAASUVORK5CYII=\" alt=\"logo\" className={styles.logo}/>\n\n        <div className={styles.navleft}>\n          <JoinChatRoom user={user}/>\n          <button onClick={signOut} className={styles.btn}>Sign Out</button>\n        </div>\n      </nav>\n      \n      <div className={styles.grid}>\n        <div className={styles.chatRooms}>\n          <ChatRoomist currentRoom={chatRoomId} uid={user.uid} setRoom={setCRID}/>\n          <CreateChatRoom uid={user.uid}/>\n        </div>\n\n        <div className={styles.chatPannel}>\n          <div className={styles.messages}>\n            {\n              msgs.map( (msg , i) => (\n                <MessageComp\n                user={user}\n                content={msg.content}\n                name={msg.name}\n                photoURL={msg.photoURL}\n                uid={msg.uid}\n                key={i}\n                />\n              ))\n            }\n          </div>\n          <div className={styles.addMessages}>\n            <PostMessage user={user} chatRoomId={chatRoomId}/>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport SignIn from './Components/SignIn/SignIn'\nimport { auth } from './firebase'\nimport { useAuthState }  from 'react-firebase-hooks/auth'\nimport MainScreen from './Containers/MainScreen/MainScreen'\n\nexport default function App() {\n  const [user] = useAuthState(auth)\n\n  return (\n    <div>\n      {\n        user ? <MainScreen user={user} chatRoomId=\"EK7GYA8nDKA1006FuqyC\" /> : <SignIn />\n      }\n\n    </div>\n  )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"MainScreen_main__3IonU\",\"nav\":\"MainScreen_nav__2gGRS\",\"btn\":\"MainScreen_btn__2nQgf\",\"grid\":\"MainScreen_grid__1wTcP\",\"messages\":\"MainScreen_messages__2EIfX\",\"addMessages\":\"MainScreen_addMessages__2FgN5\",\"navleft\":\"MainScreen_navleft__3O6_D\",\"chatRooms\":\"MainScreen_chatRooms__2ZfWF\",\"imgSize\":\"MainScreen_imgSize__1cIgo\"};"],"sourceRoot":""}